<div class="container">
        {{>sidebar_directeur}}

    <div class="contain">
        <h1>Klassen</h1>
    <ul class="list-classes">
            {{#each allclassrooms}}
            <li>
        <a href="/alleklassen/{{ this.id }}">{{this.label}}</a>
            </li>
                {{/each}}
    </ul>
        <div class="test">
    <select name="classrooms">
    {{#each allclassrooms}}
    <option value="{{ this.id }}">{{ this.label }}</option>
    {{/each}}
</select>
<button id="test" type="submit" class="save-button add-user-to-class" data-id="{{ subject.id }}">Vak toevoegen aan klas</button>
</div>
</div>
</div>

<script>
        const addClassroom = document.getElementById('test');
        addClassroom.addEventListener('click', function() {
        const classroomId = document.querySelector('select[name="classrooms"]').value;
        const subjectId = addClassroom.getAttribute('data-id');
        console.log(classroomId);
        fetch(`/vakken/addtoclass`, {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify({
                    classId: classroomId,
                    subjectId: subjectId
                })
            })
            .then(response => response.json())
            .then(data => {
                console.log(data);
            })
            .catch((error) => {
                console.error('Error:', error);
            });
    });
</script>